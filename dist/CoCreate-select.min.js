!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.CoCreate=t():(e.CoCreate=e.CoCreate||{},e.CoCreate.select=t())}(this,(function(){return(()=>{var e={375:function(e,t,n){var o,i;"undefined"!=typeof self&&self,o=[n(446),n(965)],void 0===(i=function(e,t){return function(e,t,n){return{socket:null,setSocket:function(e){this.socket=e},readDocumentList(e){if(!e)return;let n=t.getCommonParams();e.collection&&e.operator&&(n={...n,...e},this.socket.send("readDocumentList",n))},createDocument:function(n){if(null===n)return;let o=t.getCommonParamsExtend(n),i={...n,...o},r=n.data||{};r.organization_id||(r.organization_id=e.config.organization_Id),n.data&&(r={...r,...n.data}),i.data=r;const c=t.generateSocketClient(n.namespace,n.room);this.socket.send("createDocument",i,c)},updateDocument:function(e){if(!e||!n.checkDocumentId(e.document_id))return;let o=t.getCommonParamsExtend(e),i={...e,...o};if("object"==typeof e.data&&(i.set=e.data),Array.isArray(e.delete_fields)&&(i.unset=e.delete_fields),!i.set&&!i.unset)return;!1===e.broadcast&&(i.broadcast=!1),void 0===e.broadcast_sender&&(i.broadcast_sender=!0);const r=t.generateSocketClient(e.namespace,e.room);this.socket.send("updateDocument",i,r)},readDocument:function(e){if(null===e)return;if(!e||!n.checkDocumentId(e.document_id))return;let o=t.getCommonParamsExtend(e),i={...e,...o};this.socket.send("readDocument",i)},deleteDocument:function(e){if(!e||!n.checkDocumentId(e.document_id))return;let o=t.getCommonParamsExtend(e),i={...e,...o};const r=t.generateSocketClient(e.namespace,e.room);this.socket.send("deleteDocument",i,r)},exportCollection:function(e){if(null===e)return;let n=t.getCommonParamsExtend(e);n.collection=e.collection,n.export_type=e.export_type,n.metadata=e.metadata,this.socket.send("exportDB",n)},importCollection:function(n){const{file:o}=n;if(null===n||!(o instanceof e.File))return;const i=o.name.split(".").pop();if(!["json","csv"].some((e=>e===i)))return;let r=t.getCommonParamsExtend(n);r.collection=n.collection,r.import_type=i,this.socket.send("importDB",r),this.socket.sendFile(o)},listen:function(e,t){this.socket.listen(e,t)},listenAsync:function(e){return this.socket.listenAsync(e)},createSocket:function(e,t){t?(this.socket.create({namespace:t,room:null,host:e}),this.socket.setGlobalScope(t)):this.socket.create({namespace:null,room:null,host:e})},...n}}(window,e,t)}.apply(t,o))||(e.exports=i)},611:function(e,t,n){var o,i;"undefined"!=typeof self&&self,o=[n(585),n(375)],void 0===(i=function(e,t){return function(e,t,n){if(e){let e=new t("ws");n.setSocket(e),n.createSocket(window.config.host?window.config.host:window.location.hostname,window.config.organization_Id)}return n}(!0,e,t)}.apply(t,o))||(e.exports=i)},965:function(e,t){var n;"undefined"!=typeof self&&self,void 0===(n=function(){return function(){function e(t,n){t=t||{};for(let o of Object.keys(n))n[o]instanceof Object&&Object.assign(n[o],e(t[o],n[o]));return Object.assign(t||{},n),t}function t(e,t){if(!t)return e;let n=t.split("."),o=e;for(var i=n.length-1;i>=0;i--)o={[n[i]]:o};return o}function n(e,t){try{let n=/([\w\W]+)\[(\d+)\]/gm.exec(e);if(n&&3==n.length){let o=n[1],i=parseInt(n[2]);t[o]&&Array.isArray(t[o])||(t[o]=[]),t[o][i]=t[e],delete t[e],e=o}}catch{}return e}function o(e){return!!e&&e.constructor===Object}function i(e){return!!e&&e.constructor===Array}function r(o){let i=Object.keys(o),r={};return i.forEach((i=>{if((i=n(i,o)).split(".").length>1){let n=t(o[i],i);delete o[i],r=e(r,n)}else r[i]=o[i]})),r}function c(e){let t=Object.keys(e),n={};return t.forEach((t=>{let r=e[t];if(o(e[t])){let o=c(e[t]);Object.keys(o).forEach((e=>{let i=o[e];n[e=t+"."+e]=i}))}else i(r)?r.forEach(((e,o)=>{n[`${t}[${o}]`]=e})):n[t]=e[t]})),n}function a(e){if(e)return{collection:e.getAttribute("data-collection"),document_id:e.getAttribute("data-document_id"),name:e.getAttribute("name")}}function s(e){return e?{is_realtime:f(e),is_save:u(e),is_read:l(e),is_update:d(e)}:{}}const l=e=>m(e,"data-read_value"),u=e=>m(e,"data-save_value"),d=e=>m(e,"data-update_value"),f=e=>!!e&&"false"!=e.getAttribute("data-realtime");function m(e,t){return!!e&&"false"!==e.getAttribute(t)}function h(e){return!!e&&!/{{\s*([\w\W]+)\s*}}/g.test(e)}function p(e){try{let t=JSON.parse(e);return"object"==typeof t&&null!=t}catch(e){return!1}}function g(e){const{collection:t,document_id:n,name:o}=a(e);return!(p(t)||p(o)||!("INPUT"===e.tagName&&["text","email","tel","url"].includes(e.type)||"TEXTAREA"===e.tagName)||!o||!f(e)||"true"===e.getAttribute("data-unique")||"password"===e.type||!l(e))}function y(e){try{return!!e&&"null"!==e.toLowerCase()}catch(e){return!1}}return{decodeObject:r,encodeObject:c,getAttr:a,getFlagAttr:s,isRealtimeAttr:f,isReadAttr:l,isSaveAttr:u,isUpdateAttr:d,checkValue:h,isCRDT:g,checkDocumentId:y}}()}.apply(t,[]))||(e.exports=n)},266:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var o=n(366);function i(e){let t=[{document,window}];for(let e of document.querySelectorAll("iframe")){let n=e.contentDocument||e.contentWindow.document,o=e.contentWindow;t.push({document:n,window:o,frameElement:e})}let n=new Set;for(let o of t){let t=e(o);t&&"function"==typeof t[Symbol.iterator]?t.forEach((e=>n.add(e))):t&&n.add(t)}return Array.from(n)}function r(e){let t=[];do{if(!e||!e.tagName)return!1;let n=e.tagName.toLowerCase();if(e.id&&"BODY"!==e.tagName&&(n+="#"+e.id),e.classList.length&&"BODY"!==e.tagName&&e.classList.forEach((e=>{-1===e.indexOf(":")&&(n+="."+e)})),"BODY"!==e.tagName&&e.parentNode){let t=Array.prototype.indexOf.call(e.parentNode.children,e);n+=`:nth-child(${t+1})`}t.unshift(n),e=e.parentNode}while("HTML"!==e.tagName);return t.join(" > ")}function c(){let e=window;for(;e!==window.parent;)e=window.parent;return e}function a(e,t){let n;return i((e=>{e.document.contains(t)&&(n=e.frameElement)})),n}function*s(e,t){for(let n of e)n.selector&&t.matches(n.selector)&&(yield n)}function l(e){try{document.createDocumentFragment().querySelector(e)}catch(e){return!1}return!0}const u={getElementPath:function(e,t){let n=[],o=(window,a(0,e)),i=r(o);return i&&n.unshift(i),t?{path:n,document:o||document}:n},isValidSelector:l,joinBydelimiter:function(e,t){return e.map((e=>e.trim())).join(t)},splitBydelimiter:function(e,t){return e.split(t).map((e=>e.trim()))},parseTextToHtml:function(e){let t=(new DOMParser).parseFromString(e,"text/html");return t.head.children[0]?t.head.children[0]:t.body.children[0]},UUID:function(e=10){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",o=n.length,i=0;i<e;i++)t+=n.charAt(Math.floor(Math.random()*o));return t+=(new Date).toTimeString().replace(/[\W_]+/g,"").substr(0,6)},configExecuter:function(e,t,n,o){for(let i of s(o||window.elementConfig,e)){if(!0===i[t])return n(e,i);if(!1===i[t])return!1;if(void 0===i[t])continue;if(l(i[t]))return n(e,i,!0)}return!1},configMatch:s,getIframeFromPath:function(e){let t=c;return e.forEach((e=>{t&&(t=t.querySelector(e))})),t},findIframeFromElement:a,getTopMostWindow:c,cssPath:r,allFrame:i,checkValue:function(e){return!!e&&!/{{\s*([\w\W]+)\s*}}/g.test(e)},getAttributes:function(e){return e.getAttributeNames().reduce(((t,n)=>(t[n]=e.getAttribute(n),t)),{})},isJsonString:function(e){try{let t=JSON.parse(e);return"object"==typeof t&&null!=t}catch(e){return!1}},getParentFromElement:function(e,t,n){if(t){if(e.classList.contains(t))return e;let n=e.parentNode;for(;null!=n&&n.classList;){if(n.classList.contains(t))return n;n=n.parentNode}}else if(n){if(n.every((t=>e.attributes.hasOwnProperty(t))))return e;let t=e.parentNode;for(;null!=t&&t.attributes;){if(n.every((e=>t.attributes.hasOwnProperty(e))))return t;t=t.parentNode}}return!1},generateUUID:function(e=36){let t=(new Date).getTime(),n=window.performance&&window.performance.now&&1e3*window.performance.now()||0,o="uxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";if(e<=o.length)o=o.substr(0,e);else{let t=e-o.length,n="-xxxyyxxx",i=Math.floor(t/n.length);for(let e=0;e<i;e++)o+=n;i=t-i*n.length,o+=n.substr(0,i)}return o.replace(/[xy]/g,(function(e){var o=16*Math.random();if(t>0){o=(t+o)%16|0;t=Math.floor(t/16)}else{o=(n+o)%16|0;n=Math.floor(n/16)}return("x"==e?o:7&o|8).toString(16)}))}};var d=n(611),f=n.n(d);const m={attribute:"data-actions",actions:{},selectedStage:[],stageIndex:0,selectedElement:null,completedEventName:"completedEvent",__init:function(){this.actionButtonEvent()},actionButtonEvent:function(){const e=this;document.addEventListener("click",(function(t){let n=t.target;if(n.getAttribute("data-actions")||(n=t.target.closest("[data-actions]")),!n)return;t.preventDefault();let o=(n.getAttribute(e.attribute)||"").replace(/\s/g,"").split(",");0!=o.length&&(e.stageIndex=0,e.selectedStage=o,e.selectedElement=n,e.__runActionFunc())}))},init:function({action:e,callback:t,endEvent:n}){this.registerEvent(e,t,null,n)},registerEvent:function(e,t,n,o){if(this.actions[e])return;this.actions[e]={key:e,runFunc:t,instance:n||window,endEvent:o};for(let t in this.actions)if(t!=e&&this.actions[t].endEvent===o)return;const i=this;document.addEventListener(o,(function(e){i.__nextAction(o,e.detail)}))},__runActionFunc:function(e){if(this.stageIndex>=this.selectedStage.length)return void(this.stageIndex==this.selectedStage.length&&this.__runAtag(this.selectedElement));const t=this.selectedStage[this.stageIndex],n=this.actions[t];if(n)n.runFunc?n.runFunc.call(null,this.selectedElement,e):this.__nextAction(n.endEvent,{});else{"next"===this.__runSpecialAction(t,e)&&this.__moveNextAction()}},__nextAction:function(e,t){const n=this.selectedStage[this.stageIndex];n&&e===this.actions[n].endEvent&&this.__moveNextAction(t)},__runAtag:function(e){e.querySelector("a")},__runSpecialAction:function(e,t){let n=/(\w+)\{([a-zA-Z0-9_ \-#$.]+)\}/gm.exec(e);if(!n||n.length<3)return"next";let o=n[1],i=n[2].trim();if(!i)return"next";const r=this;switch(o){case"event":document.addEventListener(i,(e=>{r.__moveNextAction(e)}),{once:!0});break;case"timeout":parseInt(i)>0&&setTimeout((function(){r.__moveNextAction(t)}),parseInt(i));break;case"action":let e=document.querySelector(i);e&&e.click();break;default:return"next"}},__moveNextAction:function(e){this.stageIndex++,this.__runActionFunc(e)}};m.__init();const h=m,p={disableAutoFill:function(e){"TEXTAREA"==e.tagName&&(e.value="",e.setAttribute("autocomplete","off")),e.hasAttribute("autocomplete")||e.setAttribute("autocomplete","off")},setAttribute:function(e){const{collection:t,document_id:n,name:o}=f().getAttr(e),i=e.getAttribute("data-realtime");e.querySelectorAll("[name], [data-pass_to]").forEach((function(e){e.parentNode.classList.contains("template")||(null==e.getAttribute("data-realtime")&&i&&e.setAttribute("data-realtime",i),e.getAttribute("name")&&!e.hasAttribute("data-collection")&&t&&e.setAttribute("data-collection",t),e.getAttribute("data-pass_to")&&!e.hasAttribute("data-pass_collection")&&t&&e.setAttribute("data-pass_collection",t),e.getAttribute("name")&&!e.getAttribute("data-document_id")&&n&&e.setAttribute("data-document_id",n),e.hasAttribute("data-document_id")||null==n||e.setAttribute("data-document_id",n))}))},checkFormValidate:function(e){return void 0===CoCreate.unique||CoCreate.unique.checkValidate(e)},isTemplateInput:function(e){if(e.classList.contains("template"))return!0;let t=e.parentNode;for(;t;){if(t.classList&&t.classList.contains("template"))return!0;t=t.parentNode}return!1},getFormData:function(e,t,n){let o={};if(!n)return{};return e.querySelectorAll(`[name][data-collection='${n}']`).forEach((e=>{let n=e.getAttribute("data-document_id")||"",i=e.getAttribute("name"),r=e.value||e.getAttribute("value");"_id"!==i&&i&&r&&t==n&&(o[i]=e.value)})),o},getParents:function(e,t="form"){for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1});e&&e!==document;e=e.parentNode)if(e.matches(t))return e;return null},setDocumentIDOfElement:function(e,t){let n=e.getAttribute("data-document_id");n&&""!=n&&"pending"!=n||e.setAttribute("data-document_id",t)},getCOllections:function(e){let t=[];return e?(e.querySelectorAll("[name][data-collection]").forEach((e=>{let n=e.getAttribute("data-collection");n&&!t.includes(n)&&t.push(n)})),t):t}},g={requestAttr:"data-document_request",selectors:[],modules:[],init:function({name:e,selector:t,callback:n}){this.modules.push({name:e,selector:t,callback:n}),t&&this.selectors.push(t)},get:function(){return{selectors:this.selectors}},checkID:function(e,t="data-document_id"){let n=e.getAttribute(t)||"";return!(""===n||"pending"===n||!u.checkValue(n))},request:function({form:e,element:t,nameAttr:n,value:o}){!e&&t&&(e=t.closest("form")),e?this.__requestDocumentIdOfForm(e):t&&(n=n||"name",this.__requestDocumentId(t,n,o))},initElement:function(e){const t=e||document;if(!t.querySelectorAll)return;let n=t.querySelectorAll("form");0===n.length&&t!=document&&"FORM"===t.tagName&&(n=[t]),n.forEach((e=>{p.setAttribute(e),p.disableAutoFill(e)}))},__init:function(){const e=document.querySelectorAll("form");this.__initEvent(),e.forEach((e=>{p.setAttribute(e)}))},__initEvent:function(){const e=this;f().listen("createDocument",(function(t){const{metadata:n}=t;e.__receivedDocumentId(t)})),f().listen("deleteDocument",(function(e){const{metadata:t}=e})),document.addEventListener("clicked-submitBtn",(function(t){const{element:n}=t.detail;e.modules.forEach((({selector:e,callback:t})=>{t&&n.matches(e)&&t.call(null,n)}))}))},__deleteDocumentAction:function(e){const{collection:t,document_id:n}=f().getAttr(e);u.checkValue(t)&&u.checkValue(n)&&(f().deleteDocument({collection:t,document_id:n,metadata:"deleteDocument-action"}),document.dispatchEvent(new CustomEvent("deletedDocument",{detail:{}})))},__deleteDocumentsAction:function(e){const{collection:t,document_id:n}=f().getAttr(e),o=e.getAttribute("data-document_target");if(!o)return;const i=document.querySelectorAll(o);p.checkValue(t)&&(i.forEach((e=>{const n=e.getAttribute("data-document_id");f().checkValue(n)&&f().deleteDocument({collection:t,document_id:n,metadata:""})})),document.dispatchEvent(new CustomEvent("deletedDocuments",{detail:{}})))},__createDocumentAction:function(e){const t=e.closest("form");p.getCOllections(t).forEach((e=>{let n=p.getFormData(t,"",e);0==Object.keys(n).length&&n.constructor===Object||u.checkValue(e)&&(f().createDocument({collection:e,data:n,metadata:"createDocument-action",element:"empty"}),document.dispatchEvent(new CustomEvent("createdDocument",{detail:{}})))}))},__saveDocumentAction:function(e){const t=e.closest("form");if(!p.checkFormValidate(t))return void alert("Values are not unique");const n=this.selectors||[],o=t.querySelectorAll(n.join(","));let i=!1;for(var r=0;r<o.length;r++){let e=o[r];const{document_id:t,name:n}=f().getAttr(e);if(f().isSaveAttr(e))if(f().checkValue(t)){if(!f().isCRDT(e)){if(p.isTemplateInput(e))return;var c=new CustomEvent("clicked-submitBtn",{bubbles:!0,detail:{type:"submitBtn",element:e}});e.dispatchEvent(c)}}else n&&(i=!0)}i&&this.requestDocumentIdOfForm(t),document.dispatchEvent(new CustomEvent("savedDocument",{detail:{}}))},__requestDocumentId:function(e,t="name",n=null){const{collection:o,name:i}=f().getAttr(e);if(!o||!i)return;const r=u.generateUUID();e.setAttribute(this.requestAttr,r),f().createDocument({collection:o,element:r,metadata:""})},__requestDocumentIdOfForm:function(e){let t=this,n=e.querySelectorAll("[name], [data-pass_to]"),o=[];for(var i=0;i<n.length;i++){let r=n[i];if(r.parentNode.classList.contains("template"))continue;const c=r.getAttribute("data-collection")||r.getAttribute("data-pass_collection")||"";if(""!==c&&!o.includes(c)&&!t.checkID(r,"data-document_id")&&!t.checkID(r,"data-pass_document_id")){const t=u.generateUUID();o.push(c),r.setAttribute(this.requestAttr,t);let n=p.getFormData(e,"",c);f().createDocument({collection:c,element:t,data:n,metadata:""})}}},__setNewIdProcess:function(e,t,n){if(!e)return;e.removeAttribute(this.requestAttr);const o={document_id:t};n||this.checkID(e)||!e.hasAttribute("name")||e.setAttribute("data-document_id",t),n&&!this.checkID(e,"data-pass_document_id")&&e.hasAttribute("data-pass_to")&&(e.setAttribute("data-pass_document_id",t),e.parentNode.classList.contains("submitBtn")&&e.click());var i=new CustomEvent("set-document_id",{detail:o});e.dispatchEvent(i)},__receivedDocumentId:function(e){if(!e.document_id)return;let t=document.querySelector(`[${this.requestAttr}="${e.element}"]`);if(!t)return;let n=this;const o="FORM"===t.tagName?t:p.getParents(t,"form"),i=e.collection,r=e.document_id;if(o&&r){o.setAttribute("data-form_id",e.element);o.querySelectorAll(`[data-collection=${i}], [data-pass_collection=${i}]`).forEach((function(e){e.removeAttribute(n.requestAttr),e.hasAttribute("name")&&n.__setNewIdProcess(e,r),e.hasAttribute("data-pass_to")&&n.__setNewIdProcess(e,r,!0)}))}else t&&this.__setNewIdProcess(t,r)}};g.__init(),o.default.init({name:"CoCreateForm",observe:["subtree","childList"],include:"form",callback:function(e){g.initElement(e.target)}}),h.init({action:"createDocument",endEvent:"createdDocument",callback:(e,t)=>{g.__createDocumentAction(e)}}),h.init({action:"deleteDocument",endEvent:"deletedDocument",callback:(e,t)=>{g.__deleteDocumentAction(e)}}),h.init({action:"deleteDocuments",endEvent:"deletedDocuments",callback:(e,t)=>{CoCreateDocument.__deleteDocumentsAction(e)}}),h.init({action:"saveDocument",endEvent:"savedDocument",callback:(e,t)=>{g.__saveDocumentAction(e)}});const y=g},21:function(e,t){var n;"undefined"!=typeof self&&self,void 0===(n=function(){return function(e){function t(){let t={};return e&&e.config&&(t=e.config),{apiKey:t.apiKey,organization_id:t.organization_Id}}function n(t){let n={};return e&&e.config&&(n=e.config),{apiKey:t.apiKey||n.apiKey,organization_id:t.organization_id||n.organization_Id}}function o(t,n){let o={};e&&e.config&&(o=e.config);let i=t||o.organization_Id,r=n||"";return r?`${i}/${r}`:i}return{getCommonParams:t,getCommonParamsExtend:n,generateSocketClient:o}}(window)}.apply(t,[]))||(e.exports=n)},836:function(e,t,n){var o,i;"undefined"!=typeof self&&self,o=[n(21),n(212)],void 0===(i=function(e,t){return function(e,t,n,o,i){class r{constructor(e="crud"){this.prefix=e||"crud",this.sockets=new Map,this.listeners=new Map,this.messageQueue=new Map,this.saveFileName="",this.globalScope=""}setGlobalScope(e){this.globalScope=`${this.prefix}/${e}`}getGlobalScope(){return this.globalScope}create(e){const{namespace:i,room:r}=e,c=this.getKey(i,r);let a,s=this;if(i&&this.setGlobalScope(i),this.sockets.get(c))return void(a=this.sockets.get(c));let l=t.location.protocol;"about:"===t.location.protocol&&(l=t.parent.location.protocol,e.host||(e.host=t.parent.location.host));let u="http:"===l?"ws":"wss";const d=e.port?e.port:8088;let f=`${u}://${t.location.host}:${d}/${c}`;e.host&&(f=e.host.includes("://")?`${e.host}/${c}`:e.host.includes(":")?`${u}://${e.host}/${c}`:`${u}://${e.host}:${d}/${c}`);try{let e=null;t.localStorage&&(e=t.localStorage.getItem("token")),a=new n(f,e),a.cocreate_connected=!1,this.sockets.set(c,a)}catch(e){return}a.onopen=function(e){a.cocreate_connected||(a.cocreate_connected=!0),(s.messageQueue.get(c)||[]).forEach((e=>a.send(JSON.stringify(e)))),s.messageQueue.set(c,[])},a.onclose=function(t){switch(t.code){case 1e3:break;default:s.destroy(a,c),s.reconnect(a,e)}},a.onerror=function(t){s.destroy(a,c),s.reconnect(a,e)},a.onmessage=function(e){try{if(t.Blob&&e.data instanceof o)return void s.saveFile(e.data);let n=JSON.parse(e.data);if(n.data&&(n.data.uid&&s.__fireEvent(n.data.uid,n.data),n.data.event))return void s.__fireEvent(n.data.event,n.data);n.action;const i=s.listeners.get(n.action);if(!i)return;i.forEach((e=>{e(n.data,c)}))}catch(e){}}}__fireEvent(e,n){if(t.CustomEvent){var o=new t.CustomEvent(e,{detail:n});t.document.dispatchEvent(o)}else process.emit(e,n)}send(e,t,n){const o=i.generate(),r={action:e,data:{...t,uid:o}},c=this.getKeyByRoom(n),a=this.getByRoom(n);return a&&a.cocreate_connected?a.send(JSON.stringify(r)):this.messageQueue.get(c)?this.messageQueue.get(c).push(r):this.messageQueue.set(c,[r]),o}sendFile(e,t){const n=this.getByRoom(t);n&&n.send(e)}listen(e,t){this.listeners.get(e)?this.listeners.get(e).push(t):this.listeners.set(e,[t])}reconnect(e,t){let n=this;setTimeout((function(){n.create(t)}),1e3)}destroy(e,t){e&&(e.onerror=e.onopen=e.onclose=null,e.close(),e=null),this.sockets.get(t)&&this.sockets.delete(t)}destroyByKey(e){let t=this.sockets.get(e);t&&this.destroy(t,e)}getKey(e,t){let n=`${this.prefix}`;return e&&""!=e&&(n+=t&&""!=t?`/${e}/${t}`:`/${e}`),n}getByRoom(e){let t=this.getKeyByRoom(e);return this.sockets.get(t)}getKeyByRoom(e){let t=this.globalScope;return e&&(t=`${this.prefix}/${e}`),t}saveFile(e){if(t.document){const o=this.saveFileName||"downloadFile";var n=t.document.createElement("a");t.document.body.appendChild(n),n.style="display: none";let i=window.URL.createObjectURL(e);n.href=i,n.download=o,n.click(),t.URL.revokeObjectURL(i),this.saveFileName=""}}listenAsync(e){return new Promise(((n,o)=>{let i=setTimeout((()=>{clearTimeout(i),n(null)}),5e3);t.document?t.document.addEventListener(e,(function(e){n(e.detail)}),{once:!0}):process.once(e,(e=>{n(e)}))}))}}return r}(0,window,WebSocket,Blob,t)}.apply(t,o))||(e.exports=i)},980:function(e,t,n){var o,i;"undefined"!=typeof self&&self,o=[n(836),n(129)],void 0===(i=function(e,t){return function(e,t,n){if(e){let e=window.CoCreateCrudSocket;if(!e){let e=new t("ws");window.CoCreateCrudSocket=e}n.setSocket(e),n.createSocket(window.config.host?window.config.host:window.location.hostname,window.config.organization_Id)}return n}(!0,e,t)}.apply(t,o))||(e.exports=i)},129:function(e,t,n){var o,i;"undefined"!=typeof self&&self,o=[n(21)],void 0===(i=function(e){return function(e,t){return{socket:null,setSocket:function(e){this.socket=e},send:function(e){let n=t.getCommonParams();if(!e||!e.emit)return;n={...n,...e};const o=t.generateSocketClient(e.namespace,e.room);this.socket.send("sendMessage",n,o)},receive:function(e,t){this.socket.listen(e,t)},createSocket:function(e,t){this.socket&&(t?(this.socket.create({namespace:t,room:null,host:e}),this.socket.setGlobalScope(t)):this.socket.create({namespace:null,room:null,host:e}))},listen:function(e,t){this.socket.listen(e,t)},listenAsync:function(e){return this.socket.listenAsync(e)}}}(window,e)}.apply(t,o))||(e.exports=i)},366:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i}),window.profiler={},window.counter=0,window.counter2=0,window.targets={},window.attributeName={},Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1});const o={initTasks:new Map,attrTasks:new Map,rules:new Map,rulesArray:[],__init:function(){const e=this;new MutationObserver(((t,n)=>e.__callback(t,n))).observe(document.body,{attributes:!0,childList:!0,subtree:!0,characterData:!1,attributeOldValue:!0,characterData:!0})},init:function({observe:e,include:t,exclude:n,attributes:o,name:i,callback:r}){e.some((e=>"childList"==e))&&this.initTasks.set(r,{observe:e,include:t,exclude:n,attributes:o,name:i}),e.some((e=>"attributes"==e))&&this.attrTasks.set(r,{observe:e,include:t,exclude:n,attributes:o,name:i})},remove:function(e){this.initTasks.delete(e),this.attrTasks.delete(e)},addRule:function({include:e,exclude:t,name:n}){this.rules.set(n,{include:e,exclude:t}),this.rulesArray=Array.from(this.rules)},removeRule:function({name:e}){this.rules.delete(e),this.rulesArray=Array.from(this.rules)},__callback:function(e,t){window.counter++;for(let t of e)"childList"==t.type&&t.addedNodes.length>0&&this.__initCallback(t),"attributes"==t.type&&this.__attrCallback(t)},__initCallback:function(e){Array.from(e.addedNodes);this.initTasks.forEach((({observe:t,include:n,exclude:o,attributes:i,name:r},c)=>{e.addedNodes.forEach((t=>{t.tagName&&(!n||t.matches(n)||t.querySelector(n))&&(o&&(t.matches(o)||t.querySelector(o))||c.apply(null,[{type:e.type,target:t}]))}))}))},__attrCallback:function(e){for(let[t,{include:n,exclude:o}]of this.rulesArray){if(n&&!e.target.matches(n))return;if(o&&e.target.matches(o))return}this.attrTasks.forEach((({observe:t,include:n,exclude:o,attributes:i,name:r},c)=>{if((!i||!e.attributeName||i.includes(e.attributeName))&&(!n||e.target.matches(n))&&(!o||!e.target.matches(o))&&e.attributeName){e.target.getAttribute(e.attributeName)!=e.oldValue&&c.apply(null,[e])}}))},setInitialized:function(e,t){e["co_initialized_"+(t=t||"")]=!0},getInitialized:function(e,t){return!!e["co_initialized_"+(t=t||"")]}};o.__init();const i=o},446:function(e,t){var n;"undefined"!=typeof self&&self,void 0===(n=function(){return function(e){function t(){let t={};return e&&e.config&&(t=e.config),{apiKey:t.apiKey,securityKey:t.securityKey,organization_id:t.organization_Id}}function n(t){let n={};return e&&e.config&&(n=e.config),{apiKey:t.apiKey||n.apiKey,securityKey:t.securityKey||n.securityKey,organization_id:t.organization_id||n.organization_Id}}function o(t,n){let o={};e&&e.config&&(o=e.config);let i=t||o.organization_Id,r=n||"";return r?`${i}/${r}`:i}function i(e=36){let t=(new Date).getTime(),n=0,o="uxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";if(e<=o.length)o=o.substr(0,e);else{let t=e-o.length,n="-xxxyyxxx",i=Math.floor(t/n.length);for(let e=0;e<i;e++)o+=n;i=t-i*n.length,o+=n.substr(0,i)}return o.replace(/[xy]/g,(function(e){var o=16*Math.random();return t>0?(o=(t+o)%16|0,t=Math.floor(t/16)):(o=(n+o)%16|0,n=Math.floor(n/16)),("x"==e?o:7&o|8).toString(16)}))}return{getCommonParams:t,getCommonParamsExtend:n,generateSocketClient:o,GenerateUUID:i}}(window)}.apply(t,[]))||(e.exports=n)},585:function(e,t,n){var o,i;"undefined"!=typeof self&&self,o=[n(446)],void 0===(i=function(e){return function(e,t,n,o){class i{constructor(e="crud"){this.prefix=e||"crud",this.sockets=new Map,this.listeners=new Map,this.messageQueue=new Map,this.saveFileName="",this.globalScope=""}setGlobalScope(e){this.globalScope=`${this.prefix}/${e}`}getGlobalScope(){return this.globalScope}create(e){const{namespace:i,room:r}=e,c=this.getKey(i,r);let a,s=this;if(i&&this.setGlobalScope(i),this.sockets.get(c))return void(a=this.sockets.get(c));let l=t.location.protocol;"about:"===t.location.protocol&&(l=t.parent.location.protocol,e.host||(e.host=t.parent.location.host));let u="http:"===l?"ws":"wss";const d=e.port?e.port:8088;let f=`${u}://${t.location.host}:${d}/${c}`;e.host&&(f=e.host.includes("://")?`${e.host}/${c}`:e.host.includes(":")?`${u}://${e.host}/${c}`:`${u}://${e.host}:${d}/${c}`);try{a=new n(f)}catch(e){return}a.onopen=function(e){(s.messageQueue.get(c)||[]).forEach((e=>a.send(JSON.stringify(e)))),s.sockets.set(c,a),s.messageQueue.set(c,[])},a.onclose=function(t){switch(t.code){case 1e3:break;default:s.destroy(a,c),s.reconnect(a,e)}},a.onerror=function(t){s.destroy(a,c),s.reconnect(a,e)},a.onmessage=function(e){try{if(t.Blob&&e.data instanceof o)return void s.saveFile(e.data);let i=JSON.parse(e.data);if(i.data.event){if(t.CustomEvent){var n=new t.CustomEvent(i.data.event,{detail:i.data});return void t.document.dispatchEvent(n)}return void process.emit(i.data.event,i.data)}i.action;const r=s.listeners.get(i.action);if(!r)return;r.forEach((e=>{e(i.data,c)}))}catch(e){}}}send(t,n,o){const i={action:t,data:{...n,uid:e.GenerateUUID()}},r=this.getKeyByRoom(o),c=this.getByRoom(o);c?c.send(JSON.stringify(i)):this.messageQueue.get(r)?this.messageQueue.get(r).push(i):this.messageQueue.set(r,[i])}sendFile(e,t){const n=this.getByRoom(t);n&&n.send(e)}listen(e,t){this.listeners.get(e)?this.listeners.get(e).push(t):this.listeners.set(e,[t])}reconnect(e,t){let n=this;setTimeout((function(){n.create(t)}),1e3)}destroy(e,t){e&&(e.onerror=e.onopen=e.onclose=null,e.close(),e=null),this.sockets.get(t)&&this.sockets.delete(t)}destroyByKey(e){let t=this.sockets.get(e);t&&this.destroy(t,e)}getKey(e,t){let n=`${this.prefix}`;return e&&""!=e&&(n+=t&&""!=t?`/${e}/${t}`:`/${e}`),n}getByRoom(e){let t=this.getKeyByRoom(e);return this.sockets.get(t)}getKeyByRoom(e){let t=this.globalScope;return e&&(t=`${this.prefix}/${e}`),t}saveFile(e){if(t.document){const o=this.saveFileName||"downloadFile";var n=t.document.createElement("a");t.document.body.appendChild(n),n.style="display: none";let i=window.URL.createObjectURL(e);n.href=i,n.download=o,n.click(),t.URL.revokeObjectURL(i),this.saveFileName=""}}listenAsync(e){return new Promise(((n,o)=>{t.document?t.document.addEventListener(e,(function(e){n(e.detail)}),{once:!0}):process.once(e,(e=>{n(e)}))}))}}return i}(e,window,WebSocket,Blob)}.apply(t,o))||(e.exports=i)},212:function(e,t){var n;"undefined"!=typeof self&&self,void 0===(n=function(){return function(e){const t={attribute:"data-uuid",init:function(t){if(!e.document)return;const n=t||e.document;if(!n.querySelectorAll)return;let o=n.querySelectorAll(`[${this.attribute}]`);const i=this;o.forEach((e=>{const t=parseInt(e.getAttribute(i.attribute))||36,n=i.generate(t);"INPUT"===e.tagName||"TEXTAREA"===e.tagName?e.value=n:e.innerHTML=n}))},generate:function(t=36){let n=(new Date).getTime(),o=e.performance&&e.performance.now&&1e3*e.performance.now()||0,i="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";if(t<=i.length)i=i.substr(0,t);else{let e=t-i.length,n="-xxxyyxxx",o=Math.floor(e/n.length);for(let e=0;e<o;e++)i+=n;o=e-o*n.length,i+=n.substr(0,o)}return i.replace(/[xy]/g,(function(e){var t=16*Math.random();return n>0?(t=(n+t)%16|0,n=Math.floor(n/16)):(t=(o+t)%16|0,o=Math.floor(o/16)),("x"==e?t:7&t|8).toString(16)}))}};return t.init(),t}(window)}.apply(t,[]))||(e.exports=n)},261:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=u(n(555)),i=u(n(611)),r=u(n(266)),c=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(500)),a=n(555),s=u(n(980));function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function u(e){return e&&e.__esModule?e:{default:e}}var d={init:function(){let e=document.querySelectorAll(c.containerSelector);for(let t of e){let e=o.default.init(t);this.dbToSelects(t,e)}this.__initEvents()},__initEvents:function(){const e=this;document.addEventListener("dndsuccess",(function(e){const{dropedEl:t,dragedEl:n}=e.detail;t.matches(c.containerSelector)&&a.container.get(t).__fireSelectedEvent({selectContainer:t})})),document.addEventListener("input",(function(t){let{name:n,id:o,collection:i}=e.getCrudCred(t.target);t.target.matches(c.containerSelector)&&"null"===o&&s.default.send({broadcast_sender:!1,rooms:"",emit:{message:"select",data:{name:t.target.getAttribute("name"),values:e.getAllValue(t.target)}}})})),s.default.listen("select",(function(e){let{name:t,values:n}=e,o=document.querySelector(`[name="${t}"]`);if(!o||!a.container.has(o))return;let i=a.container.get(o);i.unselectAll(!1),n.forEach((e=>i.selectOption(e,!0,e,!1)))})),i.default.listen("updateDocument",(function(t){if("cocreate-select"==t.metadata)for(let n of Object.keys(t.data))e.writeSelect(t,n)}))},dbToSelects:async function(e,t){const n=this;e.addEventListener("set-document_id",(function(){n.saveSelect(this)}));let{name:o,id:r,collection:c}=this.getCrudCred(e);if(c&&r&&"null"!==r){let e=await i.default.readDocument({collection:c,document_id:r});if(!e.data[o])return;let n=e.data[o];n=Array.isArray(n)?n:[n],n.forEach((e=>t.selectOption(e,!0,void 0,!1)))}},getCrudCred:function(e){const t=e.getAttribute("data-collection")||"module_activity",n=e.getAttribute("data-document_id");return{name:e.getAttribute("name"),id:n,collection:t,realtime:e.getAttribute("data-realtime")||"true"}},writeSelect:function(e,t){for(let[n,o]of a.container){let{name:i,id:r,collection:c}=this.getCrudCred(n);if(e.collection==c&&e.document_id==r&&t==i){if(e.data[i]){let t=e.data[i];t=Array.isArray(t)?t:[t],t.forEach((e=>o.selectOption(e,!0,void 0,!1)))}else""===e.data[i]&&o.unselectAll();break}}},getAllValue:function(e){return Array.from(e.selectedOptions).map((e=>a.selectedToOption.has(e)?a.selectedToOption.get(e).getAttribute("value"):""))},saveSelect:function(e,t=!0){let{name:n,id:o,collection:c,realtime:a}=this.getCrudCred(e);if(!n||!t||"true"!=a||"false"==e.getAttribute("data-save_value"))return;let s=this.getAllValue(e);s=s.length<=1?s[0]:s,s=s||"",r.default.checkID(e)?o&&i.default.updateDocument({collection:c,document_id:o,data:{[n]:s},upsert:!0,metadata:"cocreate-select",broadcast_sender:!1}):(r.default.request({element:e,value:s,nameAttr:"name"}),e.setAttribute("data-document_id","pending"))}};t.default=d},500:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeMarkup=t.optionTagName=t.optionSelector=t.optionsSelector=t.selectedTagName=t.inputSelector=t.containerSelector=void 0;t.containerSelector="cocreate-select, div.select--field";t.inputSelector="input";t.selectedTagName="selected";t.optionsSelector="*";t.optionSelector="cc-option";t.optionTagName="cc-option";t.removeMarkup='<span class="remove">x</span>'},352:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={};t.default=void 0;var i=l(n(555)),r=l(n(261)),c=l(n(366)),a=(n(500),l(n(266)));n(127);var s=n(555);function l(e){return e&&e.__esModule?e:{default:e}}Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))})),r.default.init(),i.default.adapter=r.default,c.default.init({name:"CoCreateSelect",observe:["addedNodes"],callback:function(e){i.default.init(e.target)}}),a.default.init({name:"CoCreateSelect",selector:"cocreate-select",callback:function(e){r.default.save(e)}});var u=i.default;t.default=u},206:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){Object.defineProperty(window.HTMLElement.prototype,"options",{get:function(){if(e(this)&&o.container.has(this)){return o.container.get(this).getOptions()}}})};var o=n(555);!function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var c=o?Object.getOwnPropertyDescriptor(e,r):null;c&&(c.get||c.set)?Object.defineProperty(n,r,c):n[r]=e[r]}n.default=e,t&&t.set(e,n)}(n(500));function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}},555:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.selectedToOption=t.optionToSelected=t.container=void 0;l(n(366));var o=l(n(386)),i=l(n(206)),r=l(n(123)),c=l(n(202)),a=n(648),s=n(500);function l(e){return e&&e.__esModule?e:{default:e}}(0,o.default)((e=>e.matches(`${s.optionsSelector} > ${s.optionSelector}, ${(0,a.addAttribute)(s.containerSelector,">"+s.optionSelector)}`))),(0,i.default)((e=>e.matches(s.containerSelector))),(0,r.default)((e=>e.matches(s.containerSelector))),(0,c.default)((e=>e.matches(s.containerSelector)));const u=new Map;t.container=u;const d=new Map;t.optionToSelected=d;const f=new Map;t.selectedToOption=f;const m=(0,a.parse)(s.removeMarkup);function h(e){this.init(e)}document.addEventListener("click",(function(e){let t=e.target;for(let[e,n]of u)e.contains(t)?t.matches(".remove")?n.unselectOption(t.parentNode):e.classList.contains("open")&&"INPUT"!==t.tagName?n.close():n.open():e.classList.contains("open")&&n.close()})),h.prototype={isMultiple:function(){return!!this.selectContainer.hasAttribute("multiple")},init:function(e){if(!e.matches(s.containerSelector))return!1;if(e.querySelector(s.containerSelector))return!1;if(u.has(e))return;this.selectContainer=e,this.selectedContainer=e.querySelector(`:scope > ${s.selectedTagName}`),this.selectedContainer||(this.selectedContainer=document.createElement(s.selectedTagName),e.prepend(this.selectedContainer)),this.input=e.querySelector(` :scope > ${s.inputSelector}`);e.children[e.children.length-1];for(let e of this.getOptions())e.hasAttribute("selected")&&this.selectOption(e);const t=this;this.input&&this.input.addEventListener("keydown",(function(e){let n=e.keyCode;if(13==n&&e.preventDefault(),13==n&&this.value.length>0)t.selectOption(this.value),this.value="";else if(8==n&&!this.value.length){let e=t.selectedContainer.children;if(!e.length)return;let n=f.get(e[e.length-1]);t.unselectOption(n)}})),this.selectContainer.addEventListener("click",(function(e){let n=e.target;for(;!n.matches(s.optionSelector);)if(n=n.parentElement,!n)return;f.has(n)||d.has(n)||t.selectOption(n,!0)})),u.set(e,this)},open:function(){this.selectContainer.classList.add("open"),this.input&&this.input.focus(),this.selectContainer.dispatchEvent(new CustomEvent("CoCreateSelect-open"))},close:function(){this.input&&(this.input.value=""),this.selectContainer.classList.remove("open"),this.selectContainer.dispatchEvent(new CustomEvent("CoCreateSelect-close"))},getOptions:function(){return this.selectContainer.querySelectorAll(s.optionSelector)},unselectAll:function(e){if(this.selectedContainer.children.length)for(let e of this.selectedContainer.children)f.has(e)&&this.unselectOption(f.get(e),!1);e&&this.__fireSelectedEvent({unselectOption:"all"})},getOptionCounterpart:function(e){return this.selectContainer.querySelector(`${s.optionSelector.trim()}[value="${e}"]`)},isSelected:function(e){return this.selectedContainer.querySelector(`[value="${e}"]`)},validateSelect:function(){if(this.isMultiple()){let e=this.selectContainer.getAttribute("data-limit_option");if(e&&this.selectedContainer.children.length>=e)return}else this.selectedContainer.children.length&&this.unselectAll()},selectOption:function(e,t=!0,n,o=!0){if(!e)return;let i,r;if("string"==typeof e){if(this.isSelected(e))return;this.validateSelect();let c=this.getOptionCounterpart(e);if(c)return this.selectOption(c,t,n,o);i=document.createElement(s.optionTagName),i.setAttribute("value",e),r=e,i.innerText=n||e,d.set(i,i),f.set(i,i)}else{if(r=e.getAttribute("value"),this.isSelected(r))return;this.validateSelect(),i=e.cloneNode(!0),e.setAttribute("selected",""),d.set(e,i),f.set(i,e)}i.appendChild(m.cloneNode(!0)),this.selectedContainer.appendChild(i),o&&this.__fireSelectedEvent({unselectOption:r})},unselectOption:function(e,t=!0){let n;"string"==typeof e?n=e:(f.has(e)&&(e=f.get(e)),e.removeAttribute("selected"),n=e.getAttribute("value"));let o=this.selectedContainer.querySelector(`[value="${n}"]`);o&&(d.delete(e),f.delete(o),o.remove(),t&&this.__fireSelectedEvent({unselectOption:n}))},__fireSelectedEvent:function(e){let t=new CustomEvent("input",{bubbles:!0,detail:e});Object.defineProperty(t,"target",{writable:!1,value:this.selectContainer}),this.selectContainer.dispatchEvent(t)}};var p={init:e=>new h(e)};t.default=p},386:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){Object.defineProperty(window.HTMLElement.prototype,"selected",{get:function(){if(e(this))return this.hasAttribute("selected")},set:function(t){if(e(this)){let e=(0,o.getInstance)(this);t?(this.setAttribute("selected",""),e.selectOption(this,!1)):(this.removeAttribute("selected"),e.unselectOption(this))}}})};var o=n(648)},202:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){Object.defineProperty(window.HTMLElement.prototype,"selectedIndex",{get:function(){if(e(this)){let e=(0,o.getInstance)(this),t=e.selectedContainer.children;if(t.length){let n=i.selectedToOption.get(t[0]);return Array.prototype.indexOf.call(e.getOptions(),n)}return-1}},set:function(t){if(e(this)){let e=(0,o.getInstance)(this);if(isFinite(t)){let n=e.getOptions()[t];e.selectOption(n,!1)}}}})};var o=n(648),i=n(555)},123:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){Object.defineProperty(window.HTMLElement.prototype,"selectedOptions",{get:function(){if(e(this)&&o.container.has(this))return o.container.get(this).selectedContainer.children}})};var o=n(555)},648:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=function(e){let t=(new DOMParser).parseFromString(e,"text/html");return t.head.children[0]?t.head.children[0]:t.body.children[0]},t.addAttribute=function(e,t){return e.split(",").map((e=>e.trim()+t)).join(", ")},t.getInstance=function(e){let t=e;for(;t.parentElement&&!t.matches(i.containerSelector);)t=t.parentElement;return o.container.get(t)};var o=n(555),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var c=o?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(n,i,c):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(500));function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}},127:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var o=n(483),i=n.n(o);const r=n.p+"c74016f7bdacbe9b4922b590aef5df6b.css";var c={injectType:"linkTag",insert:"head"};i()(r,c);const a={}},483:(e,t,n)=>{"use strict";var o,i=(o={},function(e){if(void 0===o[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}o[e]=t}return o[e]});e.exports=function(e,t){if((t=t||{}).attributes="object"==typeof t.attributes?t.attributes:{},void 0===t.attributes.nonce){var o=n.nc;o&&(t.attributes.nonce=o)}var r=document.createElement("link");if(r.rel="stylesheet",r.href=e,Object.keys(t.attributes).forEach((function(e){r.setAttribute(e,t.attributes[e])})),"function"==typeof t.insert)t.insert(r);else{var c=i(t.insert||"head");if(!c)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");c.appendChild(r)}return function(e){"string"==typeof e?r.href=e:r.parentNode.removeChild(r)}}}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var o=t.getElementsByTagName("script");o.length&&(e=o[o.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})();var o=n(352);return o=o.default})()}));